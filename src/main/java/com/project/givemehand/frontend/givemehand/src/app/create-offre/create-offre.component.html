
<h1>Creation d'offre</h1>
<hr/>

<div [hidden]="submitted" class="container">
<form class="form-style-5" #cOffForm="ngForm" 
        name="form"
        (ngSubmit)="f.form.valid && onSubmit()"
        #f="ngForm"
        novalidates *ngIf="!submitted">

            <div class="form-group">
                <label for="name">Titre</label>
                <input #titre (change)="detectTitre(offres.titre)" required type="text" class="form-control" id="titre" required [(ngModel)]="offres.titre" name="titre" >

            </div>
            <div *ngIf="detectBadClassTitre" class="alert alert-danger">
                 Le titre de votre offre contient des mots indesirables 

              </div>

            <div class="form-group">
                <label for="name">Description</label>
                <input type="text" class="form-control" (change)="detectDesc(offres.description)" id="description" required [(ngModel)]="offres.description"name="description">
            </div>

            <div *ngIf="detectBadClassDesc" class="alert alert-danger">
              Vote description d'offre contient des mots indesirables 

           </div>

            <div class="form-group">
                <label for="name">Date Offre</label>
                <input type="date" class="form-control" min="01/01/2020" max="30/04/2050" id="dateOffre"  required [(ngModel)]="offres.dateOffre" name="dateOffre">
              </div>

            <div class="form-group">
                <label for="name">Date Fin Offre</label>
                <input type="date" class="form-control" min="01/01/2020" max="30/04/2050" id="dateFinOffre"  required [(ngModel)]="offres.dateFinOffre" name="dateFinOffre">
              </div>
          <!--<div class="form-group">
            <label for="name">MOT CLE</label>
            <input type="text" class="form-control" id="motcle" required [(ngModel)]="createoffer.motcle">
          </div>-->
          <div class="form-group">
            <label for="name">Categories</label>
            <select class="form-control" id="cat"  required  [(ngModel)]="offres.cat"  name="cat">
              
                 <option *ngFor="let cat of categories | async" [ngValue]="cat">{{cat}}</option>
            </select>
          </div>
          <div class="form-group">
              <label for="name">Ville</label>
              <input type="text"  class="form-control" id="ville"  required [(ngModel)]="offres.villeOffre" name="villeOffre">
            </div>
            <div class="form-group">
              <label for="name">Nombre de Medailles</label>
              <input type="text" class="form-control" id="nbMedailles"  required [(ngModel)]="offres.nbMedailles" name="nbMedailles">
            </div>
          <button type="submit" class="btn btn-success"><span>Creer une offre </span></button>

        </form>
    </div>
    <div  class="alert alert-success" *ngIf="submitted">
      <p > <center> Votre offre a bien ete cree!</center></p>
    </div>
           

   
